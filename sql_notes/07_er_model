----------------------------------------------------
CHAPTER 7 - THE ENTITY RELATIONSHIP MODEL
----------------------------------------------------

- Stages of Database Design

    1. Requirements Collection and Analysis

         We collect the user-defined operations that will be applied, including retrievals and updates.


    2. Conceptual Design

         We create a high-level model, which includes the entity types, relationships, and constraints.
           We can also define the high-level queries.


    3. Logical Design

         Here, we implement the database in a RDBMS.


    4. Physical Design

         Here, the internal storage structures, file organizations, indexes, access paths, and physical
           design parameters for the database files are specified.



- Sample Database Application

    Our sample database application, called COMPANY, will be used to demonstrate the ER concepts.  The
      COMPANY database keeps track of a company's employees, departments, and projects.

      1. The company is organized into departments.  Each department has a unique name, a unique number,
           and a single employee who manages the department.  We keep track of the start date when the
           employee started managing the department.  A department may have several locations.

      2. A department controls a number of projects, each of which has a unique name, a unique number,
           and a single location.

      3. We store each employee's name, SSN, address, salary, sex, and birth date.  An employee is 
           assigned to one department, but may work on several projects, which are not necessarily
           controlled by the same department.  We keep track of the current number of hours per week
           that an employee works on each project.  We also keep track of the direct supervisor of the
           employee.

      4. We want to keep track of the dependents of each employee for insurance purposes.  We keep each
           employee's first name, sex, birth date, and relationship to the employee.



- Entities and Attributes

    - An 'entity' is a thing in the real world with an independent existence.

    - Each entity has 'attributes', the properties that describe it.

    - Attributes that are not divisible are 'simple attributes' (aka 'atomic attributes').  A zip code
        is an example.  'Composite attributes' form a hierarchy.  An address with number, street
        name, and zip code parts is an example.

    - 'Single-valued attributes' have a single value for a particular entity.  The age of a person is
        an example.  'Multivalued attributes' may have different numbers of values for an entity.  A
        person's college degrees is an example.

    - 'Stored attributes' are stored directly in the database.  'Derived attributes' can be derived from
        information stored in the database.  An example is a person's age from their DOB.

    - Some attributes can have NULL values.  The NULL values arise from two scenarios.  The first is that
        a value exists, but is unknown.  The second case arises when it is not known whether the value
        exists.  

    - In general, composite and multivalued attributes can be arbitrarily nested.



- Entity Types, Entity Sets, Keys, and Domains

    - An 'entity type' defines a collection of entities that have the same attributes.  This is analogous
        to a table.  The collection of all entities of a particular entity type are called an 'entity set'.
        This is analogous to the tuples in a table.

    - A 'key value' serves as a uniqueness constraint on attributes.  An entity usually has one or more
        attributes whose values are distinch for each entity in the entity set.  

    - An entity type with no key is called a 'weak entity type'.

    - Each attribute of an entity type has a 'domain' of values, which specifies the set of values that
        may be assigned to that attribute for each additional entity.



- Initial Conceptual Design for COMPANY Database

    DEPARTMENT
      Name (Key Attribute)
      Number (Key Attribute)
      Manager
      Manager_start_date
      Locations (Multivalued Attribute)

    PROJECT
      Name (Key Attribute)
      Number (Key Attribute)
      Location
      Controlling Department

    EMPLOYEE
      Ssn (Key Attribute)
      Name
        Fname
        Minit
        Lname
      Department
      Birth_date
      Sex
      Salary
      Supervisor
      Address
      Works_on (Multivalued Attribute)
        Project
        Hours

    DEPENDENT
      Employee
      Dependent_name
      Relationship
      Birth_date
      Sex